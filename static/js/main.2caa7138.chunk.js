(this["webpackJsonptime-tracker"]=this["webpackJsonptime-tracker"]||[]).push([[0],{18:function(e,t,n){},22:function(e,t){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r,a,c,s=n(3),i=n.n(s),o=n(11),u=n.n(o),l=(n(18),n(8)),j=n(5),d=n(1),p=n.n(d),b=n(10),f=n(2),h=n(4),x=n(27),O=n(13),v=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.addEventListener("error",(function(){console.error("error",t.error)})),t.addEventListener("success",(function(t){var n=t.target;e(n.result)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return e},m=function(){return Object(x.a)()},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=Object(s.useState)(n(localStorage.getItem(e)||t)),a=Object(h.a)(r,2),c=a[0],i=a[1];return[c,function(t){localStorage.setItem(e,t),i(t)}]},k=n(12),g=n.n(k),C="work-log",S="shareable-urls",N=[],P=function(e){N.push(e)},T=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",Promise.resolve(a));case 2:if(!c){e.next=4;break}return e.abrupt("return",c);case 4:return c=new Promise((function(e){(r=indexedDB.open("time-tracker.",1)).addEventListener("upgradeneeded",(function(){console.log("upgradeneeded"),N.forEach((function(e){return e(r.result)}))})),r.addEventListener("success",(function(){e(r.result),a=r.result}))})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){return g()(JSON.stringify(e)).toString()};P(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.createObjectStore(C,{autoIncrement:!1}).createIndex("dateCreation","dateCreation",{unique:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var E=function(){var e=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,n=t.transaction(C,"readwrite"),n.objectStore(C).clear(),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function L(e){return M.apply(this,arguments)}function M(){return(M=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=Object(f.a)(p.a.mark((function e(n){var r,a,c,s,i,o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return c=e.sent,s=c.transaction(C,"readonly"),a=s.objectStore(C),i=a.index("dateCreation"),e.next=8,v(i.getAllKeys());case 8:return r=e.sent,o=r.map((function(e){return v(a.get(e))})),e.next=12,Promise.all(o);case 12:u=e.sent,l=r.map((function(e,t){return Object(j.a)({key:e},u[t])})).filter((function(e){return e.linkKey===t||!e.linkKey})),n(l);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(p.a.mark((function e(t){var n,r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",r=new Promise(function(){var e=Object(f.a)(p.a.mark((function e(r){var a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:a=e.sent,c=a.transaction(C,"readwrite"),s=c.objectStore(C),i=n||m(),s.put(Object(j.a)(Object(j.a)({},t),{},{dateCreation:t.dateCreation||(new Date).toJSON(),key:i}),i).addEventListener("success",(function(){return r()}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise(function(){var e=Object(f.a)(p.a.mark((function e(r){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:a=e.sent,c=a.transaction(C,"readwrite"),c.objectStore(C).put(t,n).onsuccess=r;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R="https://shareble-url-service.fatih-erikli.workers.dev/";P(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.createObjectStore(S,{autoIncrement:!1}).createIndex("dateCreation","dateCreation",{unique:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var U=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R).concat(t),{method:"GET"});case 2:return n=e.sent,e.next=5,n.json();case 5:return n=n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(p.a.mark((function e(t,n,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R).concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({contentHash:r,worklog:n,key:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return a=a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"metadata"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({urlKeys:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:return n=(n=e.sent).urlKeys,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(f.a)(p.a.mark((function e(t,n,r){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r,e.prev=1,e.next=4,fetch(R,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({contentHash:n,worklog:t,key:r})});case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Failed.");case 10:if(400!==a.status){e.next=15;break}return e.next=13,a.json();case 13:(a=e.sent)["existing-document"]&&(c=a["existing-document"]);case 15:return e.next=17,K([c]);case 17:return a=(a=e.sent)[0],e.abrupt("return",{worklog:[],key:a.key,contentHash:a.contentHash,isCreated:c===r,dateCreation:a.dateCreation,dateModification:a.dateModification,viewCount:a.viewCount});case 20:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}();function B(e){return q.apply(this,arguments)}function q(){return(q=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,r=n.transaction(S,"readonly"),a=r.objectStore(S),e.next=7,v(a.get(t));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n,r){return $.apply(this,arguments)}function $(){return($=Object(f.a)(p.a.mark((function e(t,n,r,a){var c,s,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return c=e.sent,s=c.transaction(S,"readwrite"),i=s.objectStore(S),e.next=7,v(i.get(t));case 7:return o=e.sent,e.abrupt("return",v(i.put(Object(j.a)(Object(j.a)({},o),{},{contentHash:n,dateModification:r,viewCount:a}),t)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,r=n.transaction(S,"readwrite"),a=r.objectStore(S),e.next=7,v(a.delete(t));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n,r,a,c){return V.apply(this,arguments)}function V(){return(V=Object(f.a)(p.a.mark((function e(t,n,r,a,c,s){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Promise(function(){var e=Object(f.a)(p.a.mark((function e(i){var o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:o=e.sent,u=o.transaction(S,"readwrite"),l=u.objectStore(S),l.put({key:n,worklog:t,dateModification:c,dateCreation:a,contentHash:r,viewCount:s},n).addEventListener("success",Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(n);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,c,s,i,o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,r=n.transaction(S,"readonly"),a=r.objectStore(S),c=a.index("dateCreation"),e.next=8,v(c.getAllKeys());case 8:return s=e.sent,i=s.map((function(e){return v(a.get(e))})),e.next=12,Promise.all(i);case 12:return o=e.sent,u=s.map((function(e,t){return Object(j.a)({key:e},o[t])})),e.next=16,K(s);case 16:l=e.sent,u=u.map((function(e){var t=l.find((function(t){return t.key===e.key}));return t?Object(j.a)(Object(j.a)({},e),{},{viewCount:t.viewCount,dateModification:t.dateModification,contentHash:t.contentHash}):e})),t(u);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q,X=n(0),ee=function(e){var t=e.seconds;return Object(X.jsxs)("div",{className:"time",children:[Object(X.jsxs)("div",{className:"hours",children:[Object(X.jsx)("div",{className:"digits",children:Math.floor(t/60/60)}),Object(X.jsx)("div",{className:"text",children:"hours"})]}),Object(X.jsxs)("div",{className:"minutes",children:[Object(X.jsx)("div",{className:"digits",children:Math.floor(t/60)%60}),Object(X.jsx)("div",{className:"text",children:"minutes"})]}),Object(X.jsxs)("div",{className:"seconds",children:[Object(X.jsx)("div",{className:"digits",children:t%60}),Object(X.jsx)("div",{className:"text",children:"seconds"})]})]})},te=function(){var e=new Date,t=Object(s.useState)(e.getFullYear()),n=Object(h.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(e.getMonth()),i=Object(h.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(e.getDay()),j=Object(h.a)(l,2),d=j[0],p=j[1];return Object(X.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:3},children:[Object(X.jsxs)("select",{value:r,onChange:function(e){return a(Number(e.target.value))},children:[Object(X.jsx)("option",{children:"Year"}),new Array(100).fill(0).map((function(e,t){return Object(X.jsx)("option",{children:r-t})}))]}),Object(X.jsxs)("select",{value:o,onChange:function(e){return u(Number(e.target.value))},children:[Object(X.jsx)("option",{children:"Month"}),new Array(11).fill(0).map((function(e,t){return Object(X.jsx)("option",{children:t+1})}))]}),Object(X.jsxs)("select",{value:d,onChange:function(e){return p(Number(e.target.value))},children:[Object(X.jsx)("option",{children:"Day"}),new Array(30).fill(0).map((function(e,t){return Object(X.jsx)("option",{children:t+1})}))]})]})},ne=function(e){var t=e.value,n=e.onChange,r=Object(s.useRef)(null);return Object(s.useEffect)((function(){r.current&&(r.current.focus(),r.current.select())}),[]),Object(X.jsx)("textarea",{ref:r,value:t,onChange:n})},re=(n(24),function(e){var t=e.workLogEntries,n=e.onChange,r=e.value,a=new Set(Object(l.a)(t.map((function(e){return e.projectName}))));return Object(X.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:3},children:Object(X.jsxs)("select",{value:r||"",onChange:function(e){n(e.target.value)},children:[Object(X.jsx)("option",{value:"",children:"Select..."}),Array.from(a).map((function(e){return Object(X.jsx)("option",{value:e,children:e},e)}))]})})});var ae=function(e){var t=e.workLogEntriesFetcher,n=e.shareableUrlsFetcher,r=Object(s.useState)(!1),a=Object(h.a)(r,2),c=a[0],i=a[1],o=w("seconds",0,Number),u=Object(h.a)(o,2),d=u[0],x=u[1],v=w("isRunning",!1,Boolean),y=Object(h.a)(v,2),k=y[0],g=y[1],C=w("projectName",""),S=Object(h.a)(C,2),N=S[0],P=S[1],T=Object(s.useState)([]),M=Object(h.a)(T,2),F=M[0],I=M[1],R=Object(s.useState)(null),K=Object(h.a)(R,2),q=K[0],$=K[1],V=Object(s.useState)(null),_=Object(h.a)(V,2),ae=_[0],ce=_[1],se=Object(s.useState)([]),ie=Object(h.a)(se,2),oe=ie[0],ue=ie[1],le=w("notes",""),je=Object(h.a)(le,2),de=je[0],pe=je[1],be=w("ratePerHour",0,Number),fe=Object(h.a)(be,2),he=fe[0],xe=fe[1],Oe=w("currency","USD"),ve=Object(h.a)(Oe,2),ye=ve[0],me=ve[1],we=Object(s.useState)(null),ke=Object(h.a)(we,2),ge=ke[0],Ce=ke[1],Se=Object(s.useState)(null),Ne=Object(h.a)(Se,2),Pe=Ne[0],Te=Ne[1],De=Object(s.useState)(!1),Ee=Object(h.a)(De,2),Le=Ee[0],Me=Ee[1],Ae=Object(s.useState)(!1),Fe=Object(h.a)(Ae,2),He=Fe[0],Ie=Fe[1],Re=Object(s.useState)(null),Ue=Object(h.a)(Re,2),Je=Ue[0],Ke=Ue[1],Ye=Object(s.useState)(null),Be=Object(h.a)(Ye,2),qe=Be[0],We=Be[1],$e=Object(s.useState)(null),ze=Object(h.a)($e,2),Ge=ze[0],Ve=ze[1],Ze=Object(s.useState)(!1),_e=Object(h.a)(Ze,2),Qe=_e[0],Xe=_e[1],et=Object(s.useState)([]),tt=Object(h.a)(et,2),nt=tt[0],rt=tt[1],at=function(){var e=Object(f.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,n=JSON.stringify({entries:t}),(r=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),r.setAttribute("download","work-log-database.json"),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=Object(s.useMemo)((function(){return t||function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),!t){e.next=8;break}return e.next=4,U(t);case 4:n=e.sent,I(n.worklog),e.next=12;break;case 8:return e.next=10,L(t);case 10:r=e.sent,I(r);case 12:i(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[t]),st=Object(s.useMemo)((function(){return n||Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:t=e.sent,ue(t);case 4:case"end":return e.stop()}}),e)})))}),[n]);Object(s.useEffect)((function(){$(D(F))}),[F]),Object(s.useEffect)((function(){var e;k?(localStorage.setItem("seconds",d),localStorage.setItem("isRunning",k)):localStorage.removeItem("isRunning"),0===d&&localStorage.removeItem("seconds"),null===(e=document.querySelector("link[rel='icon']"))||void 0===e||e.setAttribute("href",k&&d>0?"favicon-animated.ico":"favicon.ico")}),[k,d]),Object(s.useEffect)((function(){return k&&(Q=setTimeout((function(){x(d+1)}),1e3)),function(){Q&&clearTimeout(Q)}}));var it=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,e.next=3,A({key:m(),dateCreation:(new Date).toJSON(),projectName:N,seconds:d,notes:de,isPaid:!1,date:[t.getFullYear(),t.getMonth(),t.getDate()]});case 3:return pe(""),g(!1),x(0),Q&&clearTimeout(Q),e.next=9,ct();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=F.find((function(e){return e.key===ge})))||!ge){e.next=4;break}return e.next=4,H(t,ge);case 4:Ce(null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(b.a)(nt),e.prev=1,a=p.a.mark((function e(){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.value,!(a=F.find((function(e){return e.key===n})))){e.next=5;break}return e.next=5,H(Object(j.a)(Object(j.a)({},a),t),n);case 5:case"end":return e.stop()}}),e)})),n.s();case 4:if((r=n.n()).done){e.next=8;break}return e.delegateYield(a(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:I(F.map((function(e){return nt.includes(e.key)?Object(j.a)(Object(j.a)({},e),t):e}))),rt([]);case 18:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return e.next=4,ct();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(f.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D(F),n=m(),Xe(!0),e.next=5,Y(F,t,n);case 5:if(!(r=e.sent).isCreated){e.next=10;break}G(r.worklog,r.key,r.contentHash,r.dateCreation,r.dateModification,r.viewCount),e.next=15;break;case 10:return Ve("A link for the current state of the work log already exists."),e.next=13,B(r.key);case 13:e.sent||G(r.worklog,r.key,r.contentHash,r.dateCreation,r.dateModification,r.viewCount);case 15:st(),Xe(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e,t=window.location.hash.slice(1).split("+"),n=Object(h.a)(t,2),r=n[0],a=n[1],c=(e=r,Object(O.a)(e));c&&ce(r),a&&Ke(a),ct&&(c?ct(r):ct()),st&&st()}),[st,ct]);var dt,pt,bt=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,F,q);case 2:return n=e.sent,e.next=5,W(t,n.contentHash,n.dateModification,n.viewCount);case 5:st();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(e){!function(e){z.apply(this,arguments)}(e),st()},ht=(dt=Je?F.filter((function(e){return e.projectName===Je})):F).reduce((function(e,t){return e+t.seconds}),0),xt=dt.filter((function(e){return!e.isPaid})).reduce((function(e,t){return e+t.seconds}),0),Ot=dt.filter((function(e){return e.isPaid})).reduce((function(e,t){return e+t.seconds}),0);return Object(X.jsxs)("div",{id:"container",children:[Object(X.jsx)("h3",{id:"logo",children:Object(X.jsx)("a",{href:"/",children:"Time tracker"})}),ae&&Object(X.jsxs)("h2",{children:["Currently viewing the work log with the key ",ae]}),Object(X.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(X.jsxs)("div",{style:{},children:[Object(X.jsx)("label",{htmlFor:"project-id",children:"Project"}),Object(X.jsx)("input",{id:"project-id",type:"text",value:N,onChange:function(e){return P(e.target.value)}})]}),Object(X.jsx)(ee,{seconds:d})]}),Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(X.jsx)("label",{htmlFor:"notes",children:"Notes"}),Object(X.jsx)("textarea",{id:"notes",value:de,onChange:function(e){return pe(e.target.value)},rows:4})]}),Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",gap:5,marginTop:5},children:[Object(X.jsx)("button",{onClick:function(){Q&&clearTimeout(Q),g(!k)},children:k?"Pause":0===d?"Start":"Continue"}),d>0&&!k&&Object(X.jsx)("button",{onClick:function(){x(0)},children:"Reset"}),d>0&&Object(X.jsx)("button",{onClick:function(){return it()},children:"Save"})]}),Object(X.jsx)("h3",{children:"Work log"}),nt.length>0&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("p",{children:["Selected work entries (",nt.length,")"]}),Object(X.jsx)("p",{children:Object(X.jsx)("button",{onClick:function(){return ut({isPaid:!0})},children:"Mark as paid"})}),Object(X.jsx)("p",{children:Object(X.jsx)("button",{onClick:function(){return ut({isPaid:!1})},children:"Mark as not paid"})})]}),Object(X.jsxs)("table",{children:[Object(X.jsx)("thead",{children:Object(X.jsxs)("tr",{children:[Object(X.jsx)("th",{children:Object(X.jsx)("input",{type:"checkbox",checked:nt.length>0,onChange:function(e){e.target.matches(":checked")?rt(dt.map((function(e){return e.key}))):rt([])}})}),Object(X.jsxs)("th",{className:"table-header-project",children:[Object(X.jsx)("a",{href:"#filter-project-name",onClick:function(e){e.preventDefault(),Ie(!He)},children:"Project"}),He&&Object(X.jsx)(re,{value:Je,onChange:function(e){return Ke(e)},workLogEntries:F})]}),Object(X.jsx)("th",{className:"table-header-time",children:"Duration"}),Object(X.jsxs)("th",{className:"table-header-date",children:[Object(X.jsx)("a",{href:"#filter-bar",style:{textDecoration:"none"},onClick:function(e){e.preventDefault(),Me(!Le)},children:"Date"}),Le&&Object(X.jsx)(te,{})]}),Object(X.jsx)("th",{className:"table-header-description",children:"Description"})]})}),Object(X.jsxs)("tbody",{children:[c&&Object(X.jsx)("tr",{children:Object(X.jsx)("td",{colSpan:4,children:"Loading."})}),!c&&0===F.length&&Object(X.jsx)("tr",{children:Object(X.jsx)("td",{colSpan:4,children:"No data."})}),dt.map((function(e){return Object(X.jsxs)("tr",{className:e.isPaid?"Paid":"NotPaid",children:[Object(X.jsx)("td",{children:Object(X.jsx)("input",{checked:nt.includes(e.key),onChange:function(){nt.includes(e.key)?rt(nt.filter((function(t){return t!==e.key}))):rt([].concat(Object(l.a)(nt),[e.key]))},type:"checkbox"})}),Object(X.jsx)("td",{style:{verticalAlign:"top",cursor:"pointer"},onClick:function(){Ce(e.key),Te("projectName")},children:ge&&ge===e.key&&"projectName"===Pe?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("input",{type:"text",onChange:function(e){I(F.map((function(t){return t.key===ge?Object(j.a)(Object(j.a)({},t),{},{projectName:e.target.value}):t})))},value:e.projectName}),Object(X.jsx)("button",{onClick:ot,style:{width:"40%",marginTop:3},children:"Save"})]}):e.projectName}),Object(X.jsx)("td",{style:{verticalAlign:"top"},children:Object(X.jsx)(ee,{seconds:e.seconds})}),Object(X.jsx)("td",{className:"date-cell",onClick:function(){Ce(e.key),Te("date")},style:{cursor:"pointer"},children:ge&&ge===e.key&&"date"===Pe?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{style:{display:"flex",justifyContent:"space-between",gap:2},children:e.date.map((function(e,t){return Object(X.jsx)("input",{onChange:function(e){I(F.map((function(n){return n.key===ge?Object(j.a)(Object(j.a)({},n),{},{date:n.date.map((function(n,r){return t===r?Number(e.target.value):n}))}):n})))},style:{width:0===t?"60%":"20%"},value:e+1},t)}))}),Object(X.jsx)("button",{onClick:ot,style:{width:"60%",marginTop:3},children:"Save"})]}):function(e){var t=Object(h.a)(e,3),n=t[0],r=t[1],a=t[2];return Object(X.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(X.jsx)("span",{className:"date-separator",children:n}),"/",Object(X.jsx)("span",{className:"date-separator",children:r+1}),"/",Object(X.jsx)("span",{className:"date-separator",children:a})]})}(e.date)}),Object(X.jsx)("td",{onClick:function(){Ce(e.key),Te("notes")},style:{verticalAlign:"top",cursor:"pointer"},children:ge&&ge===e.key&&"notes"===Pe?Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(X.jsx)(ne,{onChange:function(e){I(F.map((function(t){return t.key===ge?Object(j.a)(Object(j.a)({},t),{},{notes:e.target.value}):t})))},value:e.notes}),Object(X.jsx)("button",{onClick:ot,style:{width:"20%",marginTop:3},children:"Save"})]}):Object(X.jsx)("div",{style:{whiteSpace:"break-spaces"},children:e.notes})})]},e.key)})),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("tr",{className:"total",children:[Object(X.jsx)("td",{}),Object(X.jsx)("td",{children:"Total"}),Object(X.jsx)("td",{children:Object(X.jsx)(ee,{seconds:ht})}),Object(X.jsxs)("td",{rowSpan:2,style:{verticalAlign:"bottom",textAlign:"center"},children:["Todays date",(pt=new Date,Object(X.jsxs)("div",{style:{display:"flex",width:"200",justifyContent:"space-around"},children:[Object(X.jsx)("span",{className:"date-separator",children:pt.getFullYear()}),"/",Object(X.jsx)("span",{className:"date-separator",children:pt.getMonth()+1}),"/",Object(X.jsx)("span",{className:"date-separator",children:pt.getDate()})]}))]}),Object(X.jsx)("td",{style:{verticalAlign:"top"}})]}),Object(X.jsxs)("tr",{className:"total-payment",children:[Object(X.jsx)("td",{}),Object(X.jsx)("td",{}),Object(X.jsxs)("td",{children:["Rate per hour",Object(X.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:3,marginTop:3},children:[Object(X.jsx)("input",{type:"number",value:he,style:{width:"60%"},onChange:function(e){return xe(e.target.value)}}),Object(X.jsx)("select",{style:{width:"40%"},onChange:function(e){return me(e.target.value)},value:ye,name:"currency",children:["USD","TL","EUR"].map((function(e){return Object(X.jsx)("option",{children:e},e)}))})]})]}),Object(X.jsxs)("td",{colSpan:1,style:{},children:["Paid amount"," ",Number(Ot/60/60*he).toFixed(2),{USD:"$",EUR:"\u20ac",TL:"TL"}[ye]," ",Object(X.jsx)("br",{}),"Waiting for payment in total",Object(X.jsxs)("div",{style:{fontSize:"2rem"},children:[Number(xt/60/60*he).toFixed(2),{USD:"$",EUR:"\u20ac",TL:"TL"}[ye]]})]})]})]})]})]}),Object(X.jsx)("h3",{children:"Load a database"}),Object(X.jsx)("p",{children:Object(X.jsx)("input",{onChange:function(e){if(We(null),e.target){var t=e.target.files;if(t){var n=new FileReader;n.onload=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target){e.next=2;break}return e.abrupt("return");case 2:e.prev=2,n=JSON.parse(t.target.result),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),We("Provide a valid JSON file."),e.abrupt("return");case 10:r=n.entries,a=Object(b.a)(r),e.prev=12,a.s();case 14:if((c=a.n()).done){e.next=20;break}return s=c.value,e.next=18,A(s,s.key);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(12),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:return Ve("Database loaded successfully."),e.next=31,ct();case 31:case"end":return e.stop()}}),e,null,[[2,6],[12,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t[0])}}},type:"file"})}),Object(X.jsx)("h3",{children:"Export current database"}),Object(X.jsxs)("p",{style:{display:"flex",gap:5},children:[Object(X.jsx)("button",{onClick:function(e){e.preventDefault(),at()},children:Object(X.jsx)("span",{children:"Export"})}),Object(X.jsx)("button",{disabled:Qe,onClick:function(){return jt()},children:Qe?"Creating a shareable url...":"Create a shareable URL of database"})]}),oe.length>0&&Object(X.jsxs)("table",{children:[Object(X.jsx)("thead",{children:Object(X.jsxs)("tr",{children:[Object(X.jsx)("th",{style:{width:"25%"},children:"Key"}),Object(X.jsx)("th",{style:{width:"25%"},children:"Hash"}),Object(X.jsx)("th",{style:{width:"25%"},children:"Last modification"}),Object(X.jsx)("th",{style:{width:"10%"},children:"Views"}),Object(X.jsx)("th",{style:{width:"15%"}})]})}),Object(X.jsx)("tbody",{children:oe.map((function(e){return Object(X.jsxs)("tr",{children:[Object(X.jsx)("td",{children:Object(X.jsx)("a",{target:"_blank",rel:"noreferrer",href:"#".concat(e.key),children:"Open link in new window"})}),Object(X.jsx)("td",{children:Object(X.jsx)("div",{style:{display:"flex",padding:0},children:Object(X.jsx)("span",{title:e.contentHash,className:"long-hash",children:e.contentHash})})}),Object(X.jsx)("td",{children:new Date(e.dateModification||e.dateCreation).toLocaleString("en-US",{timeZone:"UTC"})}),Object(X.jsx)("td",{children:e.viewCount||0}),Object(X.jsx)("td",{children:Object(X.jsxs)("div",{style:{display:"flex",gap:3},children:[Object(X.jsx)("button",{disabled:e.contentHash===q,onClick:function(){return bt(e.key)},title:"Push changes to the shared link",children:"Sync..."}),Object(X.jsx)("button",{onClick:function(){return ft(e.key)},title:"Delete the current link",children:"Delete"})]})})]},e.key)}))})]}),qe&&Object(X.jsx)("p",{className:"error",children:qe}),Ge&&Object(X.jsx)("p",{className:"info",children:Ge}),Object(X.jsx)("h3",{children:"Reset current database"}),Object(X.jsx)("p",{children:Object(X.jsx)("button",{onClick:function(){window.confirm("Are you really sure to reset the current database?")&&lt()},children:Object(X.jsx)("span",{children:"Reset"})})}),Object(X.jsxs)("footer",{children:["Fatih Erikli, MIT Licensed, 2021-2022.",Object(X.jsx)("br",{}),"Source code available on"," ",Object(X.jsx)("a",{style:{color:"gray"},target:"blank",href:"https://github.com/fatih-erikli/time-tracker",children:"github"}),"."]})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};u.a.render(Object(X.jsx)(i.a.StrictMode,{children:Object(X.jsx)(ae,{})}),document.getElementById("root")),ce()}},[[25,1,2]]]);
//# sourceMappingURL=main.2caa7138.chunk.js.map